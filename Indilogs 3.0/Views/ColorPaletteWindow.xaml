<Window x:Class="IndiLogs_3._0.Views.ColorPaletteWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Color" Height="300" Width="340"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource BgCard}"
        BorderBrush="{DynamicResource PrimaryColor}"
        BorderThickness="1">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Select Color" Foreground="{DynamicResource TextSecondary}" FontWeight="Bold" Margin="0,0,0,10"/>

        <ItemsControl x:Name="ColorsGrid" Grid.Row="1">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="8"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Width="30" Height="30" Margin="2" 
                            Background="{Binding}" 
                            Click="ColorButton_Click"
                            Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="bdr" Background="{TemplateBinding Background}" CornerRadius="3" BorderThickness="1" BorderBrush="#555">
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="bdr" Property="BorderBrush" Value="White"/>
                                        <Setter TargetName="bdr" Property="BorderThickness" Value="2"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <Button Grid.Row="2" Content="Cancel" Click="Cancel_Click" 
                Style="{DynamicResource ModernBtn}" 
                Background="{DynamicResource BgPanel}" 
                HorizontalAlignment="Right" Margin="0,10,0,0" Width="80"/>
    </Grid>
</Window>