<Window x:Class="IndiLogs_3._0.Views.FontsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Font" Height="450" Width="320"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource BgDark}"
        ResizeMode="CanResize">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ListBox Grid.Row="0" 
                 ItemsSource="{Binding AvailableFonts}" 
                 SelectedItem="{Binding SelectedFont}"
                 Background="Transparent"
                 BorderThickness="0"
                 Foreground="{DynamicResource TextPrimary}"
                 ScrollViewer.VerticalScrollBarVisibility="Auto"
                 Margin="0,0,0,10">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Aa" FontFamily="{Binding}" FontSize="16" 
                                   Grid.Column="0" Foreground="{DynamicResource PrimaryColor}" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding}" FontFamily="{Binding}" FontSize="14" 
                                   Grid.Column="1" Foreground="{DynamicResource TextPrimary}" VerticalAlignment="Center"/>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="Cursor" Value="Hand"/>
                    <Setter Property="Padding" Value="5"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ListBoxItem">
                                <Border Name="Border" Background="Transparent" CornerRadius="3" Padding="{TemplateBinding Padding}">
                                    <ContentPresenter/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#3E3E42"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="{DynamicResource PrimaryColor}"/>
                                        <Setter Property="Foreground" Value="White"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListBox.ItemContainerStyle>
        </ListBox>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="✔ OK" Click="OK_Click" Style="{DynamicResource ModernBtn}" Background="#10B981" Foreground="White" Width="80" IsDefault="True"/>
            <Button Content="✖ Cancel" Click="Cancel_Click" Style="{DynamicResource ModernBtn}" Background="#6C757D" Foreground="White" Width="80" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>